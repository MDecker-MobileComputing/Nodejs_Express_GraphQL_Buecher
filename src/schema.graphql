# Schema für API mit "GraphQL SDL" (SDL: Schema Definition Language).
#
# Es gibt folgende Datentypen: String, Int, Float, Boolean, ID; die IDs sind unique identifiers (Strings).
# Ausrufezeichen nach Typ steht für  Not-Null, [typ] für Listen.
#
# Tools:
# * Syntax-Checker: https://www.leskoff.com/s01929-0
# * Extension für VSCode: https://marketplace.visualstudio.com/items?itemName=GraphQL.vscode-graphql-syntax
#
# SDL-Referenz: https://graphql.org/learn/schema/
#
# Operationstypen: query, mutation, subscription

type Buch {

  id   : ID!
  titel: String!
  autor: String!
  jahr : Int
  genre: String
}


# "Query" ist der Operationstyp für alle GraphQL-Lese-Anfragen ("R" in "CRUD")
type Query {

  # alle Buecher holen
  buecher: [ Buch! ]!

  # Buch anhand ID abfragen
  buch( id: ID! ): Buch

  # Buch suchen
  sucheBuch( query: String! ): [Buch!]!
}

# Input-Typ für neues Buch: wie "Buch", aber ohne "ID"
input BuchInputNeu {
  titel: String!
  autor: String!
  jahr : Int
  genre: String
}

# Input-Typ für Änderung von Buch: wie "BuchInputNeu", aber ohne Non-Null-Felder
input BuchInputAendern {
  titel: String
  autor: String
  jahr : Int
  genre: String
}


# "Mutation" ist der Operationstyp für "C", "U" und "D" in "CRUD"
type Mutation {

  buchDazu( input: BuchInputNeu! ): Buch!

  buchAktualisieren( id: ID!, input: BuchInputAendern! ): Buch

  buchLoeschen( id: ID! ): Boolean
}
